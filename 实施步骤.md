# 小红书Cookie获取插件实施步骤 (MVP版本)

## 一、开发准备阶段（预计2小时）

### 1. 环境搭建（简化版）
- [x] 创建基础目录结构（popup、options、background）
- [x] 配置manifest.json（仅声明cookies、clipboardWrite权限）
- [x] 设置Chrome开发者模式

## 二、核心功能开发阶段（预计6小时）

### 1. Cookie获取器开发 (P0)
- [x] 在background script中实现Cookie获取核心逻辑
  - 实现chrome.cookies.getAll API调用
  - 配置小红书域名白名单（*.xiaohongshu.com）
  - 实现敏感字段过滤（session_id、token等）
  - 添加基础错误处理（权限、网络等）
- [x] 配置manifest.json中的action点击事件
  - 添加action.onClicked监听器
  - 实现直接点击图标获取Cookie功能

### 2. 剪贴板控制器开发 (P0)
- [x] 实现navigator.clipboard.writeText功能
- [x] 添加Cookie格式化（name=value;分隔）
- [x] 实现写入结果验证

### 3. 域名匹配器开发 (P1)
- [x] 实现正则表达式匹配功能
- [x] 预设小红书域名规则
- [x] 添加正则表达式验证
- [x] 实现localStorage存储自定义规则

## 三、交互层开发（预计4小时）

### 1. 弹出页（Popup）(P1)
- [x] 实现获取Cookie按钮界面
- [x] 添加操作结果Toast提示
- [x] 集成错误提示展示

### 2. 设置页（Options）(P2)
- [x] 创建域名规则输入界面
- [x] 实现规则验证与保存功能
- [x] 添加验证结果提示

## 四、测试验证阶段（预计4小时）

### 1. 核心功能测试
- [ ] 测试直接点击图标获取Cookie
  - 输入：点击插件图标
  - 预期：成功获取Cookie并写入剪贴板

- [ ] 测试通过popup页面获取Cookie
  - 输入：打开popup页面并点击获取按钮
  - 预期：成功获取Cookie并写入剪贴板

- [ ] 测试自定义域名功能
  - 输入：添加新域名规则
  - 预期：规则保存成功并能正确匹配目标网站

### 2. 异常场景测试
- [ ] 测试非目标网站处理
  - 输入：在非匹配网站使用插件
  - 预期：显示适当的错误提示

- [ ] 测试无效规则处理
  - 输入：输入无效的正则表达式
  - 预期：显示验证错误提示，阻止保存

## 五、发布准备（MVP完成标准）

### 1. 功能完整度检查
- [ ] 双模式Cookie获取功能完整可用
  - 直接点击图标获取
  - 通过popup页面获取
- [ ] 自定义域名规则功能可用
- [ ] 剪贴板复制功能正常
- [ ] 基础错误提示完整

### 2. 安全检查
- [ ] 确认仅请求必要权限
- [ ] 验证敏感信息过滤有效
- [ ] 检查正则表达式注入风险

## 六、进度追踪

- 开发准备阶段：3/3
- 核心功能开发：9/9
- 交互层开发：3/6
- 测试验证：0/5
- 发布准备：0/6

总体完成进度：15/29
预计总工时：14小时

## 七、V2版本功能（待规划）

- 添加webpack构建工具
- 配置热重载开发环境
- 实现规则导入/导出
- 添加本地数据加密存储
- 集成错误监控系统